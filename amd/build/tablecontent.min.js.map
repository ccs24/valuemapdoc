{"version":3,"file":"tablecontent.min.js","sources":["../src/tablecontent.js"],"sourcesContent":["/* eslint-env es6 */\n/* eslint no-trailing-spaces: \"off\", no-unused-vars: \"off\" */\n/* eslint-disable max-len */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-console */\ndefine(['core/ajax', 'core/str', 'core/notification', 'jquery'], function(Ajax, Str, Notification, $) {\n    return {\n        /**\n         * Initialize the table content module\n         * @param {Object} params - Configuration parameters\n         * @param {number} params.cmid - Course module ID\n         * @param {number} params.templateid - Template ID\n         */\n        init: function(params) {\n            console.log(\"üì¶ ZA≈ÅADOWANO plik tablecontent.js\");\n            var self = this;\n            setTimeout(function() {\n                console.log(\"üöÄ init funkcja zosta≈Ça uruchomiona\");\n\n                var el = document.querySelector('#valuemapdoc-content-table');\n                if (!el) {\n                    console.error(\"‚ùå Nie znaleziono elementu DOM: #valuemapdoc-content-table\");\n                    return;\n                }\n\n                var courseid = el.dataset.courseid;\n                var cmid = (params && params.cmid) ? params.cmid : el.dataset.cmid;\n                var templateid = (params && params.templateid) ? params.templateid : el.dataset.templateid;\n\n                // Zapisanie parametr√≥w w instancji dla p√≥≈∫niejszego u≈ºycia\n                self.courseid = courseid;\n                self.cmid = cmid;\n                self.templateid = templateid;\n                self.tableElement = el;\n\n                // Inicjalizacja przycisku od≈õwie≈ºania\n                self.initRefreshButton();\n\n                self.loadTableContent(courseid, cmid, templateid, el);\n            }, 0);\n        },\n\n        /**\n         * ≈Åaduje zawarto≈õƒá tabeli z dokumentami\n         * @param {string|number} courseid - Course ID\n         * @param {string|number} cmid - Course module ID\n         * @param {string|number} templateid - Template ID\n         * @param {HTMLElement} el - DOM element for the table\n         * @param {Function} [callback] - Optional callback function\n         */\n        loadTableContent: function(courseid, cmid, templateid, el, callback) {\n            var self = this;\n            Ajax.call([{\n                methodname: 'mod_valuemapdoc_get_content_entries',\n                args: {\n                    courseid: courseid,\n                    cmid: cmid,\n                    include_master: templateid,\n                },\n            }])[0].then(function(response) {\n                console.log(\"üì• Otrzymane dane z AJAX:\", response);\n                \n                var normalizedData = response.map(function(entry) {\n                    return Object.assign({}, entry, {\n                        opportunityname: entry.name\n                    });\n                });\n\n                var html = '';\n                \n                if (response.length === 0) {\n                    // Empty state\n                    html = '<div class=\"alert alert-info text-center\">' +\n                           '<i class=\"fa fa-info-circle fa-2x mb-2\" aria-hidden=\"true\"></i>' +\n                           '<h5>Brak dokument√≥w</h5>' +\n                           '<p>Nie ma jeszcze utworzonych dokument√≥w. Wygeneruj pierwszy dokument, aby rozpoczƒÖƒá.</p>' +\n                           '</div>';\n                } else {\n                    // Generate table\n                    html = '<div class=\"table-responsive\">' +\n                           '<table class=\"table table-striped table-hover\">' +\n                           '<thead class=\"thead-light\">' +\n                           '<tr>' +\n                           '<th scope=\"col\">Nazwa dokumentu</th>' +\n                           '<th scope=\"col\">Szablon</th>' +\n                           '<th scope=\"col\">Utworzony</th>' +\n                           '<th scope=\"col\">Status</th>' +\n                           '<th scope=\"col\">Ocena</th>' +\n                           '<th scope=\"col\" class=\"text-center\">Akcje</th>' +\n                           '</tr>' +\n                           '</thead>' +\n                           '<tbody>';\n\n                    response.forEach(function(entry) {\n                        console.log(\"üîç Przetwarzanie wpisu:\", entry);\n                        var templateName = entry.templatename || 'Brak szablonu';\n                        var createdDate = entry.timecreated;\n                        \n                        // Status content\n                        var statusBadge = '';\n                        if (entry.status === 'pending') {\n                            statusBadge = '<span class=\"badge badge-warning\"><i class=\"fa fa-clock-o\"></i> Generowanie</span>';\n                        } else if (entry.status === 'error') {\n                            statusBadge = '<span class=\"badge badge-danger\"><i class=\"fa fa-exclamation-triangle\"></i> B≈ÇƒÖd</span>';\n                        } else {\n                            // Check visibility\n                            if (entry.visibility == 1) {\n                                statusBadge = '<span class=\"badge badge-warning\"><i class=\"fa fa-lock\"></i> Prywatny</span>';\n                            } else {\n                                statusBadge = '<span class=\"badge badge-success\"><i class=\"fa fa-globe\"></i> Wsp√≥≈Çdzielony</span>';\n                            }\n                        }\n\n                        // Rating display\n                        var ratingDisplay = '<span class=\"text-muted\">Nie oceniony</span>';\n                        if (entry.effectiveness !== null && entry.effectiveness !== undefined) {\n                            if (entry.effectiveness == 1) {\n                                ratingDisplay = '<span class=\"text-success\"><i class=\"fa fa-thumbs-up\"></i> Dobry</span>';\n                            } else if (entry.effectiveness == 0) {\n                                ratingDisplay = '<span class=\"text-warning\"><i class=\"fa fa-meh-o\"></i> Neutralny</span>';\n                            } else if (entry.effectiveness == -1) {\n                                ratingDisplay = '<span class=\"text-danger\"><i class=\"fa fa-thumbs-down\"></i> Z≈Çy</span>';\n                            }\n                        }\n\n                        // Action buttons\n                        var actionButtons = '';\n                        if (entry.status === 'pending') {\n                            actionButtons = '<div class=\"btn-group btn-group-sm\" role=\"group\">' +\n                                           '<button class=\"btn btn-outline-secondary btn-sm\" disabled>' +\n                                           '<i class=\"fa fa-clock-o\"></i>' +\n                                           '</button>' +\n                                           '<a href=\"' + M.cfg.wwwroot + '/mod/valuemapdoc/rate_content.php?id=' + cmid + '&docid=' + entry.id + '\" ' +\n                                           'class=\"btn btn-outline-primary btn-sm\" title=\"PodglƒÖd i ocena\">' +\n                                           '<i class=\"fa fa-eye\"></i>' +\n                                           '</a>' +\n                                           '<button class=\"btn btn-outline-danger btn-sm delete-document\" ' +\n                                           'data-docid=\"' + entry.id + '\" data-docname=\"' + entry.name + '\" title=\"Usu≈Ñ dokument\">' +\n                                           '<i class=\"fa fa-trash\"></i>' +\n                                           '</button>' +\n                                           '</div>';\n                        } else if (entry.status === 'error') {\n                            actionButtons = '<div class=\"btn-group btn-group-sm\" role=\"group\">' +\n                                           '<button class=\"btn btn-outline-danger btn-sm\" disabled>' +\n                                           '<i class=\"fa fa-exclamation-triangle\"></i>' +\n                                           '</button>' +\n                                           '<a href=\"' + M.cfg.wwwroot + '/mod/valuemapdoc/rate_content.php?id=' + cmid + '&docid=' + entry.id + '\" ' +\n                                           'class=\"btn btn-outline-primary btn-sm\" title=\"PodglƒÖd i ocena\">' +\n                                           '<i class=\"fa fa-eye\"></i>' +\n                                           '</a>' +\n                                           '<button class=\"btn btn-outline-danger btn-sm delete-document\" ' +\n                                           'data-docid=\"' + entry.id + '\" data-docname=\"' + entry.name + '\" title=\"Usu≈Ñ dokument\">' +\n                                           '<i class=\"fa fa-trash\"></i>' +\n                                           '</button>' +\n                                           '</div>';\n                        } else {\n                            actionButtons = '<div class=\"btn-group btn-group-sm\" role=\"group\">' +\n                                           '<a href=\"' + M.cfg.wwwroot + '/mod/valuemapdoc/rate_content.php?id=' + cmid + '&docid=' + entry.id + '\" ' +\n                                           'class=\"btn btn-outline-primary btn-sm\" title=\"PodglƒÖd i ocena\">' +\n                                           '<i class=\"fa fa-eye\"></i>' +\n                                           '</a>' +\n                                           '<a href=\"' + M.cfg.wwwroot + '/mod/valuemapdoc/edit_content.php?id=' + cmid + '&docid=' + entry.id + '\" ' +\n                                           'class=\"btn btn-outline-secondary btn-sm\" title=\"Edytuj\">' +\n                                           '<i class=\"fa fa-edit\"></i>' +\n                                           '</a>' +\n                                           '<a href=\"' + M.cfg.wwwroot + '/mod/valuemapdoc/tune_content.php?id=' + cmid + '&docid=' + entry.id + '\" ' +\n                                           'class=\"btn btn-outline-info btn-sm\" title=\"Dostraj\">' +\n                                           '<i class=\"fa fa-cog\"></i>' +\n                                           '</a>' +\n                                           '<button class=\"btn btn-outline-danger btn-sm delete-document\" ' +\n                                           'data-docid=\"' + entry.id + '\" data-docname=\"' + entry.name + '\" title=\"Usu≈Ñ dokument\">' +\n                                           '<i class=\"fa fa-trash\"></i>' +\n                                           '</button>' +\n                                           '</div>';\n                        }\n\n                        var modifiedDate = '';\n                        if (entry.timemodified && entry.timemodified !== entry.timecreated) {\n                            modifiedDate = '<br><small class=\"text-muted\">Zmieniony: ' + \n                                          new Date(entry.timemodified * 1000).toLocaleDateString('pl-PL') + '</small>';\n                        }\n\n                        var contentPreview = '';\n                        if (entry.content) {\n                            contentPreview = '<br><small class=\"text-muted\">' + entry.content + '</small>';\n                        }\n\n                        html += '<tr class=\"document-row\" data-docid=\"' + entry.id + '\">' +\n                               '<td>' +\n                               '<div class=\"d-flex align-items-center\">' +\n                               '<i class=\"fa fa-file-text-o text-primary mr-2\" aria-hidden=\"true\"></i>' +\n                               '<div>' +\n                               '<strong>' + entry.name + '</strong>' +\n                               contentPreview +\n                               '</div>' +\n                               '</div>' +\n                               '</td>' +\n                               '<td>' +\n                               '<span class=\"badge badge-secondary\">' + templateName + '</span>' +\n                               '</td>' +\n                               '<td>' +\n                               '<small>' + createdDate + '</small>' +\n                               modifiedDate +\n                               '</td>' +\n                               '<td>' +\n                               statusBadge +\n                               '</td>' +\n                               '<td>' +\n                               ratingDisplay +\n                               '</td>' +\n                               '<td class=\"text-center\">' +\n                               actionButtons +\n                               '</td>' +\n                               '</tr>';\n                    });\n\n                    html += '</tbody>' +\n                           '</table>' +\n                           '</div>';\n                }\n\n                // Remove initial documents and show table\n                var initialDocs = document.querySelector('.initial-documents');\n                if (initialDocs) {\n                    initialDocs.remove();\n                }\n                el.classList.remove('d-none');\n                el.innerHTML = html;\n\n                // Add hover effects and interactions\n                self.addTableInteractions(courseid, cmid, templateid, el);\n\n                // Wywo≈Çaj callback je≈õli zosta≈Ç przekazany\n                if (typeof callback === 'function') {\n                    callback();\n                }\n\n            }).catch(function(error) {\n                console.error(\"‚ùå AJAX error:\", error);\n                el.innerHTML = '<div class=\"alert alert-danger\">' +\n                              '<i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>' +\n                              'WystƒÖpi≈Ç b≈ÇƒÖd podczas ≈Çadowania dokument√≥w. ' +\n                              '<button class=\"btn btn-sm btn-outline-danger ml-2\" onclick=\"location.reload()\">' +\n                              '<i class=\"fa fa-refresh\"></i> Od≈õwie≈º' +\n                              '</button>' +\n                              '</div>';\n                \n                // Wywo≈Çaj callback nawet w przypadku b≈Çƒôdu\n                if (typeof callback === 'function') {\n                    callback();\n                }\n            });\n        },\n\n        /**\n         * Adds interactive behavior to the documents table\n         * @param {string|number} courseid - Course ID\n         * @param {string|number} cmid - Course module ID  \n         * @param {string|number} templateid - Template ID\n         * @param {HTMLElement} el - DOM element for the table\n         */\n        addTableInteractions: function(courseid, cmid, templateid, el) {\n            var self = this;\n            // Hover effect dla wierszy\n            var rows = document.querySelectorAll('.document-row');\n            rows.forEach(function(row) {\n                row.addEventListener('mouseenter', function() {\n                    this.classList.add('table-active');\n                });\n                row.addEventListener('mouseleave', function() {\n                    this.classList.remove('table-active');\n                });\n\n                // Podw√≥jne klikniƒôcie otwiera podglƒÖd\n                row.addEventListener('dblclick', function() {\n                    var viewLink = this.querySelector('a[title*=\"PodglƒÖd\"]');\n                    if (viewLink) {\n                        window.open(viewLink.href, '_blank');\n                    }\n                });\n            });\n\n            // Obs≈Çuga przycisk√≥w usuwania\n            var deleteButtons = document.querySelectorAll('.delete-document');\n            deleteButtons.forEach(function(button) {\n                button.addEventListener('click', function(event) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    \n                    var docId = button.dataset.docid;\n                    var docName = button.dataset.docname;\n                    \n                    self.showDeleteConfirmation(docId, docName, courseid, cmid, templateid, el);\n                });\n            });\n\n            console.log(\"‚úÖ Dodano interakcje do tabeli\");\n        },\n\n        /**\n         * Pokazuje dialog potwierdzenia usuniƒôcia\n         * @param {string|number} docId - Document ID to delete\n         * @param {string} docName - Document name for confirmation\n         * @param {string|number} courseid - Course ID\n         * @param {string|number} cmid - Course module ID\n         * @param {string|number} templateid - Template ID\n         * @param {HTMLElement} el - DOM element for the table\n         */\n        showDeleteConfirmation: function(docId, docName, courseid, cmid, templateid, el) {\n            var self = this;\n            // Tworzenie modalnego okna potwierdzenia\n            var modalHtml = '<div class=\"modal fade\" id=\"deleteConfirmModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"deleteConfirmModalLabel\" aria-hidden=\"true\">' +\n                           '<div class=\"modal-dialog\" role=\"document\">' +\n                           '<div class=\"modal-content\">' +\n                           '<div class=\"modal-header\">' +\n                           '<h5 class=\"modal-title\" id=\"deleteConfirmModalLabel\">' +\n                           '<i class=\"fa fa-exclamation-triangle text-warning\"></i> ' +\n                           'Potwierdzenie usuniƒôcia' +\n                           '</h5>' +\n                           '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">' +\n                           '<span aria-hidden=\"true\">&times;</span>' +\n                           '</button>' +\n                           '</div>' +\n                           '<div class=\"modal-body\">' +\n                           '<p>Czy na pewno chcesz usunƒÖƒá dokument:</p>' +\n                           '<p><strong>\"' + docName + '\"</strong></p>' +\n                           '<div class=\"alert alert-warning\">' +\n                           '<i class=\"fa fa-warning\"></i>' +\n                           '<strong>Uwaga:</strong> Ta operacja jest nieodwracalna!' +\n                           '</div>' +\n                           '</div>' +\n                           '<div class=\"modal-footer\">' +\n                           '<button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">' +\n                           '<i class=\"fa fa-times\"></i> Anuluj' +\n                           '</button>' +\n                           '<button type=\"button\" class=\"btn btn-danger\" id=\"confirmDeleteBtn\">' +\n                           '<i class=\"fa fa-trash\"></i> Usu≈Ñ dokument' +\n                           '</button>' +\n                           '</div>' +\n                           '</div>' +\n                           '</div>' +\n                           '</div>';\n            \n            // Usu≈Ñ istniejƒÖcy modal je≈õli istnieje\n            var existingModal = document.getElementById('deleteConfirmModal');\n            if (existingModal) {\n                existingModal.remove();\n            }\n            \n            // Dodaj modal do body\n            document.body.insertAdjacentHTML('beforeend', modalHtml);\n            \n            // Poka≈º modal\n            var modal = document.getElementById('deleteConfirmModal');\n            $(modal).modal('show');\n            \n            // Obs≈Çuga przycisku potwierdzenia\n            var confirmBtn = document.getElementById('confirmDeleteBtn');\n            confirmBtn.addEventListener('click', function() {\n                self.deleteDocument(docId, courseid, cmid, templateid, el);\n                $(modal).modal('hide');\n            });\n            \n            // Usu≈Ñ modal po zamkniƒôciu\n            $(modal).on('hidden.bs.modal', function() {\n                modal.remove();\n            });\n        },\n\n        /**\n         * Usuwa dokument za pomocƒÖ AJAX\n         * @param {string|number} docId - Document ID to delete\n         * @param {string|number} courseid - Course ID\n         * @param {string|number} cmid - Course module ID\n         * @param {string|number} templateid - Template ID\n         * @param {HTMLElement} el - DOM element for the table\n         */\n        deleteDocument: function(docId, courseid, cmid, templateid, el) {\n            var self = this;\n            console.log(\"üóëÔ∏è Usuwanie dokumentu ID:\", docId);\n            \n            // Znajd≈∫ wiersz z dokumentem i poka≈º loader\n            var row = document.querySelector('tr[data-docid=\"' + docId + '\"]');\n            if (row) {\n                row.style.opacity = '0.5';\n                row.innerHTML = '<td colspan=\"6\" class=\"text-center\">' +\n                               '<i class=\"fa fa-spinner fa-spin\"></i> Usuwanie dokumentu...' +\n                               '</td>';\n            }\n\n            Ajax.call([{\n                methodname: 'mod_valuemapdoc_delete_entry',\n                args: {\n                    entryid: parseInt(docId)\n                },\n            }])[0].then(function(response) {\n                console.log(\"‚úÖ Dokument usuniƒôty pomy≈õlnie:\", response);\n                \n                // Poka≈º powiadomienie o sukcesie\n                Notification.addNotification({\n                    message: 'Dokument zosta≈Ç pomy≈õlnie usuniƒôty.',\n                    type: 'success'\n                });\n                \n                // Prze≈Çaduj tabelƒô\n                self.loadTableContent(courseid, cmid, templateid, el);\n                \n            }).catch(function(error) {\n                console.error(\"‚ùå B≈ÇƒÖd podczas usuwania dokumentu:\", error);\n                \n                // Poka≈º powiadomienie o b≈Çƒôdzie\n                Notification.addNotification({\n                    message: 'WystƒÖpi≈Ç b≈ÇƒÖd podczas usuwania dokumentu. Spr√≥buj ponownie.',\n                    type: 'error'\n                });\n                \n                // Prze≈Çaduj tabelƒô aby przywr√≥ciƒá stan\n                self.loadTableContent(courseid, cmid, templateid, el);\n            });\n        },\n\n        /**\n         * Inicjalizuje przycisk od≈õwie≈ºania\n         */\n        initRefreshButton: function() {\n            var self = this;\n            var refreshBtn = document.querySelector('#refresh-documents-btn');\n            if (refreshBtn) {\n                refreshBtn.addEventListener('click', function(event) {\n                    event.preventDefault();\n                    self.refreshDocumentsList();\n                });\n                console.log(\"‚úÖ Zainicjalizowano przycisk od≈õwie≈ºania\");\n            } else {\n                console.warn(\"‚ö†Ô∏è Nie znaleziono przycisku od≈õwie≈ºania (#refresh-documents-btn)\");\n            }\n        },\n\n        /**\n         * Od≈õwie≈ºa listƒô dokument√≥w\n         */\n        refreshDocumentsList: function() {\n            var self = this;\n            console.log(\"üîÑ Od≈õwie≈ºanie listy dokument√≥w...\");\n            \n            var refreshBtn = document.querySelector('#refresh-documents-btn');\n            var refreshIcon = refreshBtn ? refreshBtn.querySelector('i') : null;\n            var refreshText = refreshBtn ? refreshBtn.querySelector('.btn-text') : null;\n            \n            // Poka≈º stan ≈Çadowania na przycisku\n            if (refreshBtn) {\n                refreshBtn.disabled = true;\n                if (refreshIcon) {\n                    refreshIcon.className = 'fa fa-spinner fa-spin';\n                }\n                if (refreshText) {\n                    refreshText.textContent = 'Od≈õwie≈ºanie...';\n                }\n            }\n            \n            // Poka≈º loader na tabeli\n            if (this.tableElement) {\n                this.tableElement.innerHTML = '<div class=\"text-center py-4\">' +\n                                             '<i class=\"fa fa-spinner fa-spin fa-2x text-primary mb-2\"></i>' +\n                                             '<p class=\"text-muted\">≈Åadowanie dokument√≥w...</p>' +\n                                             '</div>';\n            }\n            \n            // Za≈Çaduj dane ponownie\n            this.loadTableContent(this.courseid, this.cmid, this.templateid, this.tableElement, function() {\n                // Callback po za≈Çadowaniu - przywr√≥ƒá stan przycisku\n                if (refreshBtn) {\n                    refreshBtn.disabled = false;\n                    if (refreshIcon) {\n                        refreshIcon.className = 'fa fa-refresh';\n                    }\n                    if (refreshText) {\n                        refreshText.textContent = 'Od≈õwie≈º';\n                    }\n                }\n                console.log(\"‚úÖ Lista dokument√≥w od≈õwie≈ºona pomy≈õlnie\");\n            });\n        }\n    };\n});"],"names":["define","Ajax","Str","Notification","$","init","params","console","log","self","this","setTimeout","el","document","querySelector","courseid","dataset","cmid","templateid","tableElement","initRefreshButton","loadTableContent","error","callback","call","methodname","args","include_master","then","response","map","entry","Object","assign","opportunityname","name","html","length","forEach","templateName","templatename","createdDate","timecreated","statusBadge","status","visibility","ratingDisplay","effectiveness","undefined","actionButtons","M","cfg","wwwroot","id","modifiedDate","timemodified","Date","toLocaleDateString","contentPreview","content","initialDocs","remove","classList","innerHTML","addTableInteractions","catch","querySelectorAll","row","addEventListener","add","viewLink","window","open","href","button","event","preventDefault","stopPropagation","docId","docid","docName","docname","showDeleteConfirmation","modalHtml","existingModal","getElementById","body","insertAdjacentHTML","modal","deleteDocument","on","style","opacity","entryid","parseInt","addNotification","message","type","refreshBtn","refreshDocumentsList","warn","refreshIcon","refreshText","disabled","className","textContent"],"mappings":"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"}