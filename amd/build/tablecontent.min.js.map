{"version":3,"file":"tablecontent.min.js","sources":["../src/tablecontent.js"],"sourcesContent":["/* eslint no-trailing-spaces: \"off\", no-unused-vars: \"off\" */\n/* eslint-disable max-len */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-console */\ndefine(['core/ajax', 'core/str', 'core/notification', 'jquery'], function(Ajax, Str, Notification, $) {\n    return {\n        /**\n         * Initialize the table content module\n         * @param {Object} params - Configuration parameters\n         * @param {number} params.cmid - Course module ID\n         * @param {number} params.templateid - Template ID\n         */\n        init: function(params) {\n            console.log(\"üì¶ ZA≈ÅADOWANO plik tablecontent.js\");\n            setTimeout(() => {\n                console.log(\"üöÄ init funkcja zosta≈Ça uruchomiona\");\n\n                const el = document.querySelector('#valuemapdoc-content-table');\n                if (!el) {\n                    console.error(\"‚ùå Nie znaleziono elementu DOM: #valuemapdoc-content-table\");\n                    return;\n                }\n\n                const courseid = el.dataset.courseid;\n                const cmid = params?.cmid || el.dataset.cmid;\n                const templateid = params?.templateid || el.dataset.templateid;\n\n                // Zapisanie parametr√≥w w instancji dla p√≥≈∫niejszego u≈ºycia\n                this.courseid = courseid;\n                this.cmid = cmid;\n                this.templateid = templateid;\n                this.tableElement = el;\n\n                // Inicjalizacja przycisku od≈õwie≈ºania\n                this.initRefreshButton();\n\n                this.loadTableContent(courseid, cmid, templateid, el);\n            }, 0);\n        },\n\n        /**\n         * ≈Åaduje zawarto≈õƒá tabeli z dokumentami\n         * @param {string|number} courseid - Course ID\n         * @param {string|number} cmid - Course module ID\n         * @param {string|number} templateid - Template ID\n         * @param {HTMLElement} el - DOM element for the table\n         * @param {Function} [callback] - Optional callback function\n         */\n        loadTableContent: function(courseid, cmid, templateid, el, callback) {\n            Ajax.call([{\n                methodname: 'mod_valuemapdoc_get_content_entries',\n                args: {\n                    courseid: courseid,\n                    cmid: cmid,\n                    include_master: templateid,\n                },\n            }])[0].then(function(response) {\n                console.log(\"üì• Otrzymane dane z AJAX:\", response);\n                \n                const normalizedData = response.map(entry => ({\n                    ...entry,\n                    opportunityname: entry.name\n                }));\n\n                let html = '';\n                \n                if (response.length === 0) {\n                    // Empty state\n                    html = `\n                        <div class=\"alert alert-info text-center\">\n                            <i class=\"fa fa-info-circle fa-2x mb-2\" aria-hidden=\"true\"></i>\n                            <h5>Brak dokument√≥w</h5>\n                            <p>Nie ma jeszcze utworzonych dokument√≥w. Wygeneruj pierwszy dokument, aby rozpoczƒÖƒá.</p>\n                        </div>\n                    `;\n                } else {\n                    // Generate table\n                    html = `\n                        <div class=\"table-responsive\">\n                            <table class=\"table table-striped table-hover\">\n                                <thead class=\"thead-light\">\n                                    <tr>\n                                        <th scope=\"col\">Nazwa dokumentu</th>\n                                        <th scope=\"col\">Szablon</th>\n                                        <th scope=\"col\">Utworzony</th>\n                                        <th scope=\"col\">Status</th>\n                                        <th scope=\"col\">Ocena</th>\n                                        <th scope=\"col\" class=\"text-center\">Akcje</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                    `;\n\n                    response.forEach(entry => {\n                        console.log(\"üîç Przetwarzanie wpisu:\", entry);\n                        const templateName = entry.templatename || 'Brak szablonu';\n                        const createdDate = entry.timecreated;\n                        \n                        // Status content\n                        let statusBadge = '';\n                        if (entry.status === 'pending') {\n                            statusBadge = '<span class=\"badge badge-warning\"><i class=\"fa fa-clock-o\"></i> Generowanie</span>';\n                        } else if (entry.status === 'error') {\n                            statusBadge = '<span class=\"badge badge-danger\"><i class=\"fa fa-exclamation-triangle\"></i> B≈ÇƒÖd</span>';\n                        } else {\n                            // Check visibility\n                            if (entry.visibility == 1) {\n                                statusBadge = '<span class=\"badge badge-warning\"><i class=\"fa fa-lock\"></i> Prywatny</span>';\n                            } else {\n                                statusBadge = '<span class=\"badge badge-success\"><i class=\"fa fa-globe\"></i> Wsp√≥≈Çdzielony</span>';\n                            }\n                        }\n\n                        // Rating display\n                        let ratingDisplay = '<span class=\"text-muted\">Nie oceniony</span>';\n                        if (entry.effectiveness !== null && entry.effectiveness !== undefined) {\n                            if (entry.effectiveness == 1) {\n                                ratingDisplay = '<span class=\"text-success\"><i class=\"fa fa-thumbs-up\"></i> Dobry</span>';\n                            } else if (entry.effectiveness == 0) {\n                                ratingDisplay = '<span class=\"text-warning\"><i class=\"fa fa-meh-o\"></i> Neutralny</span>';\n                            } else if (entry.effectiveness == -1) {\n                                ratingDisplay = '<span class=\"text-danger\"><i class=\"fa fa-thumbs-down\"></i> Z≈Çy</span>';\n                            }\n                        }\n\n                        // Action buttons\n                        let actionButtons = '';\n                        if (entry.status === 'pending') {\n                            actionButtons = `\n                                <div class=\"btn-group btn-group-sm\" role=\"group\">\n                                    <button class=\"btn btn-outline-secondary btn-sm\" disabled>\n                                        <i class=\"fa fa-clock-o\"></i>\n                                    </button>\n                                    <a href=\"${M.cfg.wwwroot}/mod/valuemapdoc/rate_content.php?id=${cmid}&docid=${entry.id}\" \n                                       class=\"btn btn-outline-primary btn-sm\" \n                                       title=\"PodglƒÖd i ocena\">\n                                        <i class=\"fa fa-eye\"></i>\n                                    </a>\n                                    <button class=\"btn btn-outline-danger btn-sm delete-document\" \n                                            data-docid=\"${entry.id}\" \n                                            data-docname=\"${entry.name}\"\n                                            title=\"Usu≈Ñ dokument\">\n                                        <i class=\"fa fa-trash\"></i>\n                                    </button>\n                                </div>\n                            `;\n                        } else if (entry.status === 'error') {\n                            actionButtons = `\n                                <div class=\"btn-group btn-group-sm\" role=\"group\">\n                                    <button class=\"btn btn-outline-danger btn-sm\" disabled>\n                                        <i class=\"fa fa-exclamation-triangle\"></i>\n                                    </button>\n                                    <a href=\"${M.cfg.wwwroot}/mod/valuemapdoc/rate_content.php?id=${cmid}&docid=${entry.id}\" \n                                       class=\"btn btn-outline-primary btn-sm\" \n                                       title=\"PodglƒÖd i ocena\">\n                                        <i class=\"fa fa-eye\"></i>\n                                    </a>\n                                    <button class=\"btn btn-outline-danger btn-sm delete-document\" \n                                            data-docid=\"${entry.id}\" \n                                            data-docname=\"${entry.name}\"\n                                            title=\"Usu≈Ñ dokument\">\n                                        <i class=\"fa fa-trash\"></i>\n                                    </button>\n                                </div>\n                            `;\n                        } else {\n                            actionButtons = `\n                                <div class=\"btn-group btn-group-sm\" role=\"group\">\n                                    <a href=\"${M.cfg.wwwroot}/mod/valuemapdoc/rate_content.php?id=${cmid}&docid=${entry.id}\" \n                                       class=\"btn btn-outline-primary btn-sm\" \n                                       title=\"PodglƒÖd i ocena\">\n                                        <i class=\"fa fa-eye\"></i>\n                                    </a>\n                                    <a href=\"${M.cfg.wwwroot}/mod/valuemapdoc/edit_content.php?id=${cmid}&docid=${entry.id}\" \n                                       class=\"btn btn-outline-secondary btn-sm\" \n                                       title=\"Edytuj\">\n                                        <i class=\"fa fa-edit\"></i>\n                                    </a>\n                                    <a href=\"${M.cfg.wwwroot}/mod/valuemapdoc/tune_content.php?id=${cmid}&docid=${entry.id}\" \n                                       class=\"btn btn-outline-info btn-sm\" \n                                       title=\"Dostraj\">\n                                        <i class=\"fa fa-cog\"></i>\n                                    </a>\n                                    <button class=\"btn btn-outline-danger btn-sm delete-document\" \n                                            data-docid=\"${entry.id}\" \n                                            data-docname=\"${entry.name}\"\n                                            title=\"Usu≈Ñ dokument\">\n                                        <i class=\"fa fa-trash\"></i>\n                                    </button>\n                                </div>\n                            `;\n                        }\n\n                        html += `\n                            <tr class=\"document-row\" data-docid=\"${entry.id}\">\n                                <td>\n                                    <div class=\"d-flex align-items-center\">\n                                        <i class=\"fa fa-file-text-o text-primary mr-2\" aria-hidden=\"true\"></i>\n                                        <div>\n                                            <strong>${entry.name}</strong>\n                                            ${entry.content ? `<br><small class=\"text-muted\">${entry.content}</small>` : ''}\n                                        </div>\n                                    </div>\n                                </td>\n                                <td>\n                                    <span class=\"badge badge-secondary\">${templateName}</span>\n                                </td>\n                                <td>\n                                    <small>${createdDate}</small>\n                                    ${entry.timemodified && entry.timemodified !== entry.timecreated ? \n                                        `<br><small class=\"text-muted\">Zmieniony: ${new Date(entry.timemodified * 1000).toLocaleDateString('pl-PL')}</small>` : ''}\n                                </td>\n                                <td>\n                                    ${statusBadge}\n                                </td>\n                                <td>\n                                    ${ratingDisplay}\n                                </td>\n                                <td class=\"text-center\">\n                                    ${actionButtons}\n                                </td>\n                            </tr>\n                        `;\n                    });\n\n                    html += `\n                                </tbody>\n                            </table>\n                        </div>\n                    `;\n                }\n\n                // Remove initial documents and show table\n                document.querySelector('.initial-documents')?.remove();\n                el.classList.remove('d-none');\n                el.innerHTML = html;\n\n                // Add hover effects and interactions\n                this.addTableInteractions(courseid, cmid, templateid, el);\n\n                // Wywo≈Çaj callback je≈õli zosta≈Ç przekazany\n                if (typeof callback === 'function') {\n                    callback();\n                }\n\n            }.bind(this)).catch(function(error) {\n                console.error(\"‚ùå AJAX error:\", error);\n                el.innerHTML = `\n                    <div class=\"alert alert-danger\">\n                        <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\n                        WystƒÖpi≈Ç b≈ÇƒÖd podczas ≈Çadowania dokument√≥w. \n                        <button class=\"btn btn-sm btn-outline-danger ml-2\" onclick=\"location.reload()\">\n                            <i class=\"fa fa-refresh\"></i> Od≈õwie≈º\n                        </button>\n                    </div>\n                `;\n                \n                // Wywo≈Çaj callback nawet w przypadku b≈Çƒôdu\n                if (typeof callback === 'function') {\n                    callback();\n                }\n            });\n        },\n\n        /**\n         * Adds interactive behavior to the documents table\n         * @param {string|number} courseid - Course ID\n         * @param {string|number} cmid - Course module ID  \n         * @param {string|number} templateid - Template ID\n         * @param {HTMLElement} el - DOM element for the table\n         */\n        addTableInteractions: function(courseid, cmid, templateid, el) {\n            // Hover effect dla wierszy\n            const rows = document.querySelectorAll('.document-row');\n            rows.forEach(row => {\n                row.addEventListener('mouseenter', function() {\n                    this.classList.add('table-active');\n                });\n                row.addEventListener('mouseleave', function() {\n                    this.classList.remove('table-active');\n                });\n\n                // Podw√≥jne klikniƒôcie otwiera podglƒÖd\n                row.addEventListener('dblclick', function() {\n                    const viewLink = this.querySelector('a[title*=\"PodglƒÖd\"]');\n                    if (viewLink) {\n                        window.open(viewLink.href, '_blank');\n                    }\n                });\n            });\n\n            // Obs≈Çuga przycisk√≥w usuwania\n            const deleteButtons = document.querySelectorAll('.delete-document');\n            deleteButtons.forEach(button => {\n                button.addEventListener('click', (event) => {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    \n                    const docId = button.dataset.docid;\n                    const docName = button.dataset.docname;\n                    \n                    this.showDeleteConfirmation(docId, docName, courseid, cmid, templateid, el);\n                });\n            });\n\n            console.log(\"‚úÖ Dodano interakcje do tabeli\");\n        },\n\n        /**\n         * Pokazuje dialog potwierdzenia usuniƒôcia\n         * @param {string|number} docId - Document ID to delete\n         * @param {string} docName - Document name for confirmation\n         * @param {string|number} courseid - Course ID\n         * @param {string|number} cmid - Course module ID\n         * @param {string|number} templateid - Template ID\n         * @param {HTMLElement} el - DOM element for the table\n         */\n        showDeleteConfirmation: function(docId, docName, courseid, cmid, templateid, el) {\n            // Tworzenie modalnego okna potwierdzenia\n            const modalHtml = `\n                <div class=\"modal fade\" id=\"deleteConfirmModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"deleteConfirmModalLabel\" aria-hidden=\"true\">\n                    <div class=\"modal-dialog\" role=\"document\">\n                        <div class=\"modal-content\">\n                            <div class=\"modal-header\">\n                                <h5 class=\"modal-title\" id=\"deleteConfirmModalLabel\">\n                                    <i class=\"fa fa-exclamation-triangle text-warning\"></i> \n                                    Potwierdzenie usuniƒôcia\n                                </h5>\n                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                    <span aria-hidden=\"true\">&times;</span>\n                                </button>\n                            </div>\n                            <div class=\"modal-body\">\n                                <p>Czy na pewno chcesz usunƒÖƒá dokument:</p>\n                                <p><strong>\"${docName}\"</strong></p>\n                                <div class=\"alert alert-warning\">\n                                    <i class=\"fa fa-warning\"></i>\n                                    <strong>Uwaga:</strong> Ta operacja jest nieodwracalna!\n                                </div>\n                            </div>\n                            <div class=\"modal-footer\">\n                                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">\n                                    <i class=\"fa fa-times\"></i> Anuluj\n                                </button>\n                                <button type=\"button\" class=\"btn btn-danger\" id=\"confirmDeleteBtn\">\n                                    <i class=\"fa fa-trash\"></i> Usu≈Ñ dokument\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `;\n            \n            // Usu≈Ñ istniejƒÖcy modal je≈õli istnieje\n            const existingModal = document.getElementById('deleteConfirmModal');\n            if (existingModal) {\n                existingModal.remove();\n            }\n            \n            // Dodaj modal do body\n            document.body.insertAdjacentHTML('beforeend', modalHtml);\n            \n            // Poka≈º modal\n            const modal = document.getElementById('deleteConfirmModal');\n            $(modal).modal('show');\n            \n            // Obs≈Çuga przycisku potwierdzenia\n            const confirmBtn = document.getElementById('confirmDeleteBtn');\n            confirmBtn.addEventListener('click', () => {\n                this.deleteDocument(docId, courseid, cmid, templateid, el);\n                $(modal).modal('hide');\n            });\n            \n            // Usu≈Ñ modal po zamkniƒôciu\n            $(modal).on('hidden.bs.modal', function() {\n                modal.remove();\n            });\n        },\n\n        /**\n         * Usuwa dokument za pomocƒÖ AJAX\n         * @param {string|number} docId - Document ID to delete\n         * @param {string|number} courseid - Course ID\n         * @param {string|number} cmid - Course module ID\n         * @param {string|number} templateid - Template ID\n         * @param {HTMLElement} el - DOM element for the table\n         */\n        deleteDocument: function(docId, courseid, cmid, templateid, el) {\n            console.log(\"üóëÔ∏è Usuwanie dokumentu ID:\", docId);\n            \n            // Znajd≈∫ wiersz z dokumentem i poka≈º loader\n            const row = document.querySelector(`tr[data-docid=\"${docId}\"]`);\n            if (row) {\n                row.style.opacity = '0.5';\n                row.innerHTML = `\n                    <td colspan=\"6\" class=\"text-center\">\n                        <i class=\"fa fa-spinner fa-spin\"></i> Usuwanie dokumentu...\n                    </td>\n                `;\n            }\n\n            Ajax.call([{\n                methodname: 'mod_valuemapdoc_delete_entry',\n                args: {\n                    entryid: parseInt(docId)\n                },\n            }])[0].then((response) => {\n                console.log(\"‚úÖ Dokument usuniƒôty pomy≈õlnie:\", response);\n                \n                // Poka≈º powiadomienie o sukcesie\n                Notification.addNotification({\n                    message: 'Dokument zosta≈Ç pomy≈õlnie usuniƒôty.',\n                    type: 'success'\n                });\n                \n                // Prze≈Çaduj tabelƒô\n                this.loadTableContent(courseid, cmid, templateid, el);\n                \n            }).catch((error) => {\n                console.error(\"‚ùå B≈ÇƒÖd podczas usuwania dokumentu:\", error);\n                \n                // Poka≈º powiadomienie o b≈Çƒôdzie\n                Notification.addNotification({\n                    message: 'WystƒÖpi≈Ç b≈ÇƒÖd podczas usuwania dokumentu. Spr√≥buj ponownie.',\n                    type: 'error'\n                });\n                \n                // Prze≈Çaduj tabelƒô aby przywr√≥ciƒá stan\n                this.loadTableContent(courseid, cmid, templateid, el);\n            });\n        },\n\n        /**\n         * Inicjalizuje przycisk od≈õwie≈ºania\n         */\n        initRefreshButton: function() {\n            const refreshBtn = document.querySelector('#refresh-documents-btn');\n            if (refreshBtn) {\n                refreshBtn.addEventListener('click', (event) => {\n                    event.preventDefault();\n                    this.refreshDocumentsList();\n                });\n                console.log(\"‚úÖ Zainicjalizowano przycisk od≈õwie≈ºania\");\n            } else {\n                console.warn(\"‚ö†Ô∏è Nie znaleziono przycisku od≈õwie≈ºania (#refresh-documents-btn)\");\n            }\n        },\n\n        /**\n         * Od≈õwie≈ºa listƒô dokument√≥w\n         */\n        refreshDocumentsList: function() {\n            console.log(\"üîÑ Od≈õwie≈ºanie listy dokument√≥w...\");\n            \n            const refreshBtn = document.querySelector('#refresh-documents-btn');\n            const refreshIcon = refreshBtn?.querySelector('i');\n            const refreshText = refreshBtn?.querySelector('.btn-text');\n            \n            // Poka≈º stan ≈Çadowania na przycisku\n            if (refreshBtn) {\n                refreshBtn.disabled = true;\n                if (refreshIcon) {\n                    refreshIcon.className = 'fa fa-spinner fa-spin';\n                }\n                if (refreshText) {\n                    refreshText.textContent = 'Od≈õwie≈ºanie...';\n                }\n            }\n            \n            // Poka≈º loader na tabeli\n            if (this.tableElement) {\n                this.tableElement.innerHTML = `\n                    <div class=\"text-center py-4\">\n                        <i class=\"fa fa-spinner fa-spin fa-2x text-primary mb-2\"></i>\n                        <p class=\"text-muted\">≈Åadowanie dokument√≥w...</p>\n                    </div>\n                `;\n            }\n            \n            // Za≈Çaduj dane ponownie\n            this.loadTableContent(this.courseid, this.cmid, this.templateid, this.tableElement, () => {\n                // Callback po za≈Çadowaniu - przywr√≥ƒá stan przycisku\n                if (refreshBtn) {\n                    refreshBtn.disabled = false;\n                    if (refreshIcon) {\n                        refreshIcon.className = 'fa fa-refresh';\n                    }\n                    if (refreshText) {\n                        refreshText.textContent = 'Od≈õwie≈º';\n                    }\n                }\n                /*\n                // Poka≈º powiadomienie o od≈õwie≈ºeniu\n                Notification.addNotification({\n                    message: 'Lista dokument√≥w zosta≈Ça od≈õwie≈ºona.',\n                    type: 'success'\n                });\n                */\n                console.log(\"‚úÖ Lista dokument√≥w od≈õwie≈ºona pomy≈õlnie\");\n            });\n        }\n    };\n});"],"names":["define","Ajax","Str","Notification","$","init","params","console","log","setTimeout","el","document","querySelector","error","courseid","dataset","cmid","templateid","tableElement","initRefreshButton","loadTableContent","callback","call","methodname","args","include_master","then","response","map","entry","opportunityname","name","html","length","forEach","templateName","templatename","createdDate","timecreated","statusBadge","status","visibility","ratingDisplay","effectiveness","undefined","actionButtons","M","cfg","wwwroot","id","content","timemodified","Date","toLocaleDateString","remove","classList","innerHTML","addTableInteractions","bind","this","catch","querySelectorAll","row","addEventListener","add","viewLink","window","open","href","button","event","preventDefault","stopPropagation","docId","docid","docName","docname","showDeleteConfirmation","modalHtml","existingModal","getElementById","body","insertAdjacentHTML","modal","deleteDocument","on","style","opacity","entryid","parseInt","addNotification","message","type","refreshBtn","refreshDocumentsList","warn","refreshIcon","refreshText","disabled","className","textContent"],"mappings":"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"}